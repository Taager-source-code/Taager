<div class="card-container d-flex flex-column justify-content-between">

  <div class="product-qty-icon">

    <img *ngIf="product.productAvailability === 'not_available'" src="../../../assets/img/availability-not-available.svg"/>

    <img *ngIf="product.productAvailability === 'available_with_low_qty'" src="../../../assets/img/availability-limited-quantity.svg"/>

    <img *ngIf="product.productAvailability === 'available_with_high_qty'" src="../../../assets/img/availability-abundance.svg"/>

    <p class="availability-text">{{ product.productAvailability | productAvailability }}</p>

  </div>

  <a

    class="card-img"

    appHoverStyle 

    (click)="trackGoToProductMixpanelEvent()"

    [routerLink]="['/product-details', product._id]" 

    [queryParams]="{ productName: product.productName }"

  >

    <img width="100%" height="100%" [src]="product.productPicture"/>

  </a>

  <div class="card-product-info-container">

      <a class="product-title" 

        appHoverStyle 

        (click)="trackGoToProductMixpanelEvent()"

        [routerLink]="['/product-details', product._id]" 

        [queryParams]="{ productName: product.productName }"

      >

        {{product.productName}}      

      </a>

    <div class="d-flex flex-row justify-content-around">

      <div class="product-profit">

        <span>الربح:</span> {{product.productProfit}}

        <span *ngIf="tooltipVisible" class="tooltip-text">صافي الربح الذي ستحصل عليه

            عند بيع المنتج</span>

      </div>

      <div class="d-flex flex-row justify-content-end align-items-center">

        <div class="product-price-text">{{currency}}</div>

        <div class="product-price">{{product.productPrice}}</div>

      </div>

    </div>

    <p class="has-variants-text" *ngIf="hasVariants">متوفر بخيارات مختلفة</p>

    <section class="d-flex flex-row-reverse justify-content-around align-items-center card-actions">

      <button class="add-to-cart-btn d-flex justify-content-between align-items-center" appHoverStyle (click)="addToCart()" [disabled]="product.productAvailability === 'not_available'">

        <span>اضف الي العربة </span>

        <i class="add-to-cart-btn__icon icon icon-cart"></i>

      </button>

      <button class="favorite-btn" appHoverStyle>

        <i (click)="isCataloged? uncatalogProduct(): catalogProduct()" class="icon favorite-btn__icon" [ngClass]="isCataloged? 'icon-heart-active favorite-btn__cataloged':'icon-heart favorite-btn__not-cataloged'"></i>

      </button>

    </section>

  </div>

  </div>
